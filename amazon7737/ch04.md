$5 + 10CHF = $10 (환율이 2:1일 경우)
~~$5 X 2 - $10~~
**amount를 private으로 만들기**
~~Dollar 부작용?~~
Money 반올림?
~~equals()~~
hashCode()
Equal null
Equal object

---

동치성 문제를 정의하였으니 이를 이용하여 테스트가 조금 더 많은 이야기를 해줄 수 있도록 만들기

개념적으로 Dollar.times() 연산은 호출 받은 객체의 값에 인자로 받은 곱수만큼

곱한 값을 갖는 Dollar를 반환해야 한다

하지만 테스트는 정확히 이러한 것을 보여주고 있지 않다

```java
@Test
    void testMultiplication() {
        Dollar five = new Dollar(5);
        Assertions.assertEquals(new Dollar(10), five.times(2));
        Assertions.assertEquals(new Dollar(15), five.times(3));
    }
```

위 코드로 리팩토링을 진행해버리니

Dollar의 amount 인스턴스 변수를 사용하는 코드는 Dollar 자신밖에 없게 되었다.
이러하여 private 변수로 변경할 수 있게 되었다.


TDD 를 하면서 주의해야할 위험 요소
---

만약 동치성 테스트가 동치성에 대한 코드가 정확히 작동한다는 것을 검증하는데 실패한다면

곱하기 테스트 역시 곱하기에 대한 코드가 정확하게 작동한다는 것을 검증하는데 실패하게 된다.


모든 것을 두 번 말함으로써 (코드와 테스트 한번씩) 자신감을 가지고 전진할 수 있는 만큼만 결함을 낮추는 것을 목표로 할뿐.

가끔은 추론이 맞지 않아서 결함이 손가락 사이로 빠져나가는 수가 있다. 그럴 때는 테스트를 어떻게 작성해야 했는지에 대한 교훈을 얻고 다시 앞으로 나아간다
그 이후는 용감하게 펄럭이는 초록 막대 아래서 대담하게 나아갈 수 있다

---

검토
---

- 오직 테스트를 향상시키기 위해서만 개발된 기능을 사용했다
- 두 테스트가 동시에 실패하면 망한다는 점을 인식했다
- 위험 요소가 있음에도 계속 진행했다
- 테스트와 코드 사이의 결합도를 낮추기 위해, 테스트하는 객체의 새 기능을 사용했다


